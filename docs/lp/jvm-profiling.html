<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8">  <meta name="built-on" content="2023-04-17T02:21:55.603675"><meta name="build-number" content="${buildNumber}">       <title>JVM Profiling | openjdk-playground</title><script id="virtual-toc-data" type="application/json">[{"id":"1-flight-recorder","level":0,"title":"1. Flight Recorder","anchor":"#1-flight-recorder"},{"id":"2-java-mission-control","level":0,"title":"2. Java Mission Control","anchor":"#2-java-mission-control"},{"id":"3-visualization","level":0,"title":"3. Visualization","anchor":"#3-visualization"},{"id":"4-profilers-tools","level":0,"title":"4. Profilers \u0026 Tools","anchor":"#4-profilers-tools"},{"id":"5-commands","level":0,"title":"5. Commands","anchor":"#5-commands"},{"id":"6-jfr-streaming","level":0,"title":"6.JFR Streaming","anchor":"#6-jfr-streaming"},{"id":"7-heapdump","level":0,"title":"7. HeapDump","anchor":"#7-heapdump"},{"id":"8-threaddump","level":0,"title":"8. ThreadDump","anchor":"#8-threaddump"},{"id":"9-unified-gc-logging","level":0,"title":"9. Unified GC Logging","anchor":"#9-unified-gc-logging"},{"id":"10-jvm-tools","level":0,"title":"10. JVM Tools","anchor":"#10-jvm-tools"},{"id":"11-system-node-health","level":0,"title":"11. System/Node Health","anchor":"#11-system-node-health"},{"id":"12-commands","level":0,"title":"12. Commands","anchor":"#12-commands"},{"id":"13-resources","level":0,"title":"13. Resources","anchor":"#13-resources"}]</script><link href="https://resources.jetbrains.com/storage/writerside/v5/app.css" rel="stylesheet">   <link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="https://jetbrains.com/site.webmanifest"><link rel="mask-icon" href="https://jetbrains.com/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>  <meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="JVM Profiling | openjdk-playground"/><meta property="og:description" content=""/><meta property="og:image" content=""/><meta property="og:site_name" content="openjdk-playground Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="/1.0.0/jvm-profiling.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="JVM Profiling | openjdk-playground"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "/1.0.0/jvm-profiling.html#webpage", "url": "/1.0.0/jvm-profiling.html", "name": "JVM Profiling | openjdk-playground", "description": "", "image": "", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "/#website", "url": "/", "name": "openjdk-playground Help" }</script><!-- End Schema.org --></head>    <body data-id="JVM-Profiling" data-main-title="JVM Profiling" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs=""  >   <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>openjdk-playground 1.0.0 Help</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select class="select _shortcuts" height="1" id="switch-shortcuts">  </select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="JVM-Profiling" id="JVM-Profiling.md"  >JVM Profiling</h1><ul class="list _ul" id="b1a3a6ab_8984"    ><li class="list__item" id="b1a3a6ab_8985" ><p><span id="b1a3a6ab_8986" >JVM Profiling</span></p><ul class="list _ul" id="b1a3a6ab_8987"    ><li class="list__item" id="b1a3a6ab_8988" ><p><a href="#1-flight-recorder" id="b1a3a6ab_8989" data-tooltip="JFR Event Collections Java Flight Recorder Events OpenJDK - JFR EventNames JFR Events Explorer by Chris Newland OpenJDK - JFR Profile Configs"  >1. Flight Recorder</a></p></li><li class="list__item" id="b1a3a6ab_8990" ><p><a href="#2-java-mission-control" id="b1a3a6ab_8991" data-tooltip="# https://jdk.java.net/jmc/ # https://adoptium.net/jmc # https://github.com/adoptium/jmc-build/releases # https://github.com/corretto/corretto-jmc/releases # https://www.oracle.com/java/technologies/jdk-mission-control.html #&hellip;"  >2. Java Mission Control</a></p></li><li class="list__item" id="b1a3a6ab_8992" ><p><a href="#3-visualization" id="b1a3a6ab_8993" data-tooltip="Jfr2Flame Converter D3 Flame Graph"  >3. Visualization</a></p></li><li class="list__item" id="b1a3a6ab_8994" ><p><span id="b1a3a6ab_8995" >4. Profilers &amp; Tools</span></p></li><li class="list__item" id="b1a3a6ab_8996" ><p><a href="#5-commands" id="b1a3a6ab_8997" data-tooltip="Wizard to create configuration files (.jfc)"  >5. Commands</a></p></li><li class="list__item" id="b1a3a6ab_8998" ><p><span id="b1a3a6ab_8999" >6.JFR Streaming</span></p></li><li class="list__item" id="b1a3a6ab_9000" ><p><a href="#7-heapdump" id="b1a3a6ab_9001" data-tooltip="Solving Memory Leaks without Heap Dumps Graal Heapdump Builder Java Profiler Heap Dump Format HPROF Parser Capture Java Heap Dumps"  >7. HeapDump</a></p></li><li class="list__item" id="b1a3a6ab_9002" ><p><a href="#8-threaddump" id="b1a3a6ab_9003" data-tooltip="# Get all java processes $ jcmd -l $ jps -mlvV # See the available commands for all java processes $ jcmd 0 help # Use PID or main class $ jcmd dev.suresh.Main VM.version $ jcmd &lt;dev.suresh.Main | pid&gt; Thread.print # Virtual thread dump $ jcmd dev.suresh.Main&hellip;"  >8. ThreadDump</a></p></li><li class="list__item" id="b1a3a6ab_9004" ><p><a href="#9-unified-gc-logging" id="b1a3a6ab_9005" data-tooltip="$ java -Xlog:help # For G1GC -XX:+UseG1GC -XX:MaxGCPauseMillis=200 -XX:InitiatingHeapOccupancyPercent=70 -XX:+PrintGC -XX:+PrintGCDateStamps -XX:+PrintGCDetails -Xloggc:/log/gclogs/app-gc.log -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=15 -XX:GCLogFileSize=10M"  >9. Unified GC Logging</a></p></li><li class="list__item" id="b1a3a6ab_9006" ><p><a href="#10-jvm-tools" id="b1a3a6ab_9007" data-tooltip="Java Object Layout (JOL)"  >10. JVM Tools</a></p></li><li class="list__item" id="b1a3a6ab_9008" ><p><span id="b1a3a6ab_9009" >11. System/Node Health</span></p></li><li class="list__item" id="b1a3a6ab_9010" ><p><a href="#12-commands" id="b1a3a6ab_9011" data-tooltip="Grabbing a file from a remote system with ssh"  >12. Commands</a></p></li><li class="list__item" id="b1a3a6ab_9012" ><p><a href="#13-resources" id="b1a3a6ab_9013" data-tooltip="JDK Mission Control Docs Marcus Hirt's Blog"  >13. Resources</a></p></li></ul></li></ul><section class="chapter"  ><h2 id="1-flight-recorder" data-toc="1-flight-recorder"  >1. Flight Recorder</h2><ul class="list _ul" id="b1a3a6ab_9014"    ><li class="list__item" id="b1a3a6ab_9015" ><p><a href="https://sap.github.io/SapMachine/jfrevents/21.html" id="b1a3a6ab_9016"   data-external="true" rel="noopener noreferrer" >JFR Event Collections</a></p></li><li class="list__item" id="b1a3a6ab_9017" ><p><a href="https://bestsolution-at.github.io/jfr-doc/index.html" id="b1a3a6ab_9018"   data-external="true" rel="noopener noreferrer" >Java Flight Recorder Events</a></p></li><li class="list__item" id="b1a3a6ab_9019" ><p><a href="https://github.com/openjdk/jdk/blob/master/test/lib/jdk/test/lib/jfr/EventNames.java" id="b1a3a6ab_9020"   data-external="true" rel="noopener noreferrer" >OpenJDK - JFR EventNames</a></p></li><li class="list__item" id="b1a3a6ab_9021" ><p><a href="https://chriswhocodes.com/jfr_jdk21.html" id="b1a3a6ab_9022"   data-external="true" rel="noopener noreferrer" >JFR Events Explorer by Chris Newland</a></p></li><li class="list__item" id="b1a3a6ab_9023" ><p><a href="https://github.com/openjdk/jdk/tree/master/src/jdk.jfr/share/conf/jfr" id="b1a3a6ab_9024"   data-external="true" rel="noopener noreferrer" >OpenJDK - JFR Profile Configs</a></p></li></ul></section><section class="chapter"  ><h2 id="2-java-mission-control" data-toc="2-java-mission-control"  >2. Java Mission Control</h2><div class="code-block" data-lang="bash"         >
# https://jdk.java.net/jmc/
# https://adoptium.net/jmc
# https://github.com/adoptium/jmc-build/releases
# https://github.com/corretto/corretto-jmc/releases
# https://www.oracle.com/java/technologies/jdk-mission-control.html
# https://www.azul.com/products/components/zulu-mission-control/

$ curl https://github.com/adoptium/jmc-build/releases/download/8.2.0/org.openjdk.jmc-8.2.0-macosx.cocoa.x86_64.tar.gz | tar xv -

$ rm -rf &quot;/Applications/JDK Mission Control.app&quot;
$ mv &quot;JDK Mission Control.app&quot; /Applications
$ open '/Applications/JDK Mission Control.app'

# To run with a JDK
$ ./jmc -vm %JAVA_HOME%\bin
# or
$ open '/Applications/JDK Mission Control.app' --args -vm $JAVA_HOME/bin
</div></section><section class="chapter"  ><h2 id="3-visualization" data-toc="3-visualization"  >3. Visualization</h2><ul class="list _ul" id="b1a3a6ab_9026"    ><li class="list__item" id="b1a3a6ab_9027" ><p><a href="https://github.com/jvm-profiling-tools/async-profiler/releases/latest/download/converter.jar" id="b1a3a6ab_9028"   data-external="true" rel="noopener noreferrer" >Jfr2Flame Converter</a></p></li><li class="list__item" id="b1a3a6ab_9029" ><p><a href="https://github.com/spiermar/d3-flame-graph" id="b1a3a6ab_9030"   data-external="true" rel="noopener noreferrer" >D3 Flame Graph</a></p></li></ul></section><section class="chapter"  ><h2 id="4-profilers-tools" data-toc="4-profilers-tools"  >4. Profilers &amp; Tools</h2><ul class="list _ul" id="b1a3a6ab_9031"    ><li class="list__item" id="b1a3a6ab_9032" ><p id="b1a3a6ab_9033" ><a href="https://github.com/openjdk/jmc" id="b1a3a6ab_9034"   data-external="true" rel="noopener noreferrer" >OpenJDK Mission Control</a></p></li><li class="list__item" id="b1a3a6ab_9035" ><p id="b1a3a6ab_9036" ><a href="https://visualvm.github.io/" id="b1a3a6ab_9037"   data-external="true" rel="noopener noreferrer" >VisualVM</a></p></li><li class="list__item" id="b1a3a6ab_9038" ><p id="b1a3a6ab_9039" ><a href="https://github.com/jvm-profiling-tools" id="b1a3a6ab_9040"   data-external="true" rel="noopener noreferrer" >JVM-Profiling-Tools</a></p></li></ul><ul class="list _ul" id="b1a3a6ab_9041"    ><li class="list__item" id="b1a3a6ab_9042" ><p id="b1a3a6ab_9043" ><a href="https://github.com/jvm-profiling-tools/async-profiler" id="b1a3a6ab_9044"   data-external="true" rel="noopener noreferrer" >Async Profiler</a></p></li><li class="list__item" id="b1a3a6ab_9045" ><p id="b1a3a6ab_9046" ><a href="https://github.com/jvm-profiling-tools/perf-map-agent" id="b1a3a6ab_9047"   data-external="true" rel="noopener noreferrer" >Perf-map Agent</a></p></li><li class="list__item" id="b1a3a6ab_9048" ><p id="b1a3a6ab_9049" ><a href="https://github.com/jvm-profiling-tools/async-profiler/tree/master/src/converter" id="b1a3a6ab_9050"   data-external="true" rel="noopener noreferrer" >JFR to Flame Graph Converter</a></p><div class="code-block" data-lang="bash"         >
# Download the latest release from Github
$ LOCATION=$(curl -s https://api.github.com/repos/jvm-profiling-tools/async-profiler/releases/latest \
    | grep -i &quot;browser_download_url&quot; \
    | grep -i &quot;converter.jar&quot; \
    | awk '{ print $2 }' \
    | sed 's/,$//'       \
    | sed 's/&quot;//g' )     \
    ; curl --progress-bar -L -o ${HOME}/install/tools/converter.jar ${LOCATION}
</div></li><li class="list__item" id="b1a3a6ab_9052" ><p id="b1a3a6ab_9053" ><a href="http://www.brendangregg.com/flamegraphs.html" id="b1a3a6ab_9054"   data-external="true" rel="noopener noreferrer" >FlameGraph</a></p></li><li class="list__item" id="b1a3a6ab_9055" ><p id="b1a3a6ab_9056" ><a href="https://github.com/openjdk/jdk/tree/master/src/jdk.jconsole" id="b1a3a6ab_9057"   data-external="true" rel="noopener noreferrer" >jconsole</a></p></li><li class="list__item" id="b1a3a6ab_9058" ><p id="b1a3a6ab_9059" ><a href="https://github.com/ivanyu/jmxviewer" id="b1a3a6ab_9060"   data-external="true" rel="noopener noreferrer" >jmxviewer</a></p></li><li class="list__item" id="b1a3a6ab_9061" ><p id="b1a3a6ab_9062" ><a href="https://github.com/cryostatio/cryostat" id="b1a3a6ab_9063"   data-external="true" rel="noopener noreferrer" >Cryostat</a></p></li><li class="list__item" id="b1a3a6ab_9064" ><p id="b1a3a6ab_9065" ><a href="https://github.com/torvalds/linux/tree/master/tools/perf/jvmti" id="b1a3a6ab_9066"   data-external="true" rel="noopener noreferrer" >Linux Perf - JVMTI</a></p></li></ul></section><section class="chapter"  ><h2 id="5-commands" data-toc="5-commands"  >5. Commands</h2><ul class="list _ul" id="b1a3a6ab_9067"    ><li class="list__item" id="b1a3a6ab_9068" ><p id="b1a3a6ab_9069" >Wizard to create configuration files (.jfc)</p><div class="code-block" data-lang="bash"         >
$ jfr configure --interactive
$ jfr summary openjdk-playground.jfr

# Concat multiple JFR files
$ jfr assemble &lt;repository&gt; &lt;file&gt; // cat jfr_file_version_* &gt;&gt; combined.jfr

# Print specific event details
$ jfr print --events 'jdk.*' --stack-depth 64 openjdk-playground.jfr
$ jfr print --events CPULoad,GarbageCollection openjdk-playground.jfr

# Pinned virtual threads
$  jfr print --events jdk.VirtualThreadPinned openjdk-playground.jfr

# Remove passwords from JFR
$  jfr scrub --exclude-events InitialEnvironmentVariable recording.jfr no-psw.jfr

# Search for JFR metadata
$ jfr metadata | grep -i -e &quot;tls&quot; -e &quot;x509&quot; -e &quot;security&quot; | grep -i &quot;@Name&quot;
</div><p id="b1a3a6ab_9071" >Some config options are,</p><div class="code-block" data-lang="bash"         >
-XX:StartFlightRecording:filename=recording.jfr
-XX:FlightRecorderOptions:stackdepth=256

-XX:+HeapDumpOnOutOfMemoryError
-XX:ErrorFile=$USER_HOME/java_error_in_app_%p.log
-XX:HeapDumpPath=$USER_HOME/java_error_in_app.hprof
</div></li></ul><ul class="list _ul" id="b1a3a6ab_9073"    ><li class="list__item" id="b1a3a6ab_9074" ><p id="b1a3a6ab_9075" >Generate FlameGraph of java threads</p><div class="code-block" data-lang="bash"         >
$ wget https://raw.githubusercontent.com/brendangregg/FlameGraph/master/flamegraph.pl
$ wget https://raw.githubusercontent.com/brendangregg/FlameGraph/master/stackcollapse-jstack.pl
$ chmod +x *.pl

# Run multiple times to get more samples
$ jcmd GradleDaemon Thread.print &gt;&gt; jcmd.tdump
$ stackcollapse-jstack.pl jcmd.tdump &gt; jcmd.tdump.folded
$ flamegraph.pl --color=io --title &quot;Thread Dump&quot; --countname &quot;Samples&quot; --width 1080 jcmd.tdump.folded &gt; jcmd.tdump.svg
</div></li><li class="list__item" id="b1a3a6ab_9077" ><p id="b1a3a6ab_9078" >Find finalizable objects in your application</p><div class="code-block" data-lang="bash"         >
$ java -XX:StartFlightRecording:filename=dump.jfr ...
$ jfr print --events FinalizerStatistics dump.jfr
</div></li><li class="list__item" id="b1a3a6ab_9080" ><p id="b1a3a6ab_9081" ><a href="https://docs.oracle.com/en/java/javase/18/troubleshoot/troubleshoot-performance-issues-using-jfr.html" id="b1a3a6ab_9082"   data-external="true" rel="noopener noreferrer" >Troubleshoot Perf Issues Using JFR</a></p></li><li class="list__item" id="b1a3a6ab_9083" ><p id="b1a3a6ab_9084" ><a href="https://docs.oracle.com/en/java/javase/18/troubleshoot/diagnostic-tools.html#GUID-D38849B6-61C7-4ED6-A395-EA4BC32A9FD6" id="b1a3a6ab_9085"   data-external="true" rel="noopener noreferrer" >Flight Recorder Tool</a></p></li><li class="list__item" id="b1a3a6ab_9086" ><p id="b1a3a6ab_9087" ><a href="https://docs.oracle.com/en/java/javase/18/jfapi/flight-recorder-configurations.html" id="b1a3a6ab_9088"   data-external="true" rel="noopener noreferrer" >Flight Recorder API Guide</a></p></li></ul></section><section class="chapter"  ><h2 id="6-jfr-streaming" data-toc="6-jfr-streaming"  >6.JFR Streaming</h2><ul class="list _ul" id="b1a3a6ab_9089"    ><li class="list__item" id="b1a3a6ab_9090" ><p><a href="https://egahlin.github.io/2021/05/17/remote-recording-stream.html" id="b1a3a6ab_9091"   data-external="true" rel="noopener noreferrer" >RemoteRecordingStream</a></p></li><li class="list__item" id="b1a3a6ab_9092" ><p><a href="https://github.com/microsoft/jfr-streaming" id="b1a3a6ab_9093"   data-external="true" rel="noopener noreferrer" >Stream JFR files</a></p></li></ul></section><section class="chapter"  ><h2 id="7-heapdump" data-toc="7-heapdump"  >7. HeapDump</h2><ul class="list _ul" id="b1a3a6ab_9094"    ><li class="list__item" id="b1a3a6ab_9095" ><p><a href="http://hirt.se/blog/?p=1055" id="b1a3a6ab_9096"   data-external="true" rel="noopener noreferrer" >Solving Memory Leaks without Heap Dumps</a></p></li><li class="list__item" id="b1a3a6ab_9097" ><p><a href="https://www.graalvm.org/tools/javadoc/org/graalvm/tools/insight/heap/HeapDump.html" id="b1a3a6ab_9098"   data-external="true" rel="noopener noreferrer" >Graal Heapdump Builder</a></p></li><li class="list__item" id="b1a3a6ab_9099" ><p><a href="http://hg.openjdk.java.net/jdk6/jdk6/jdk/raw-file/tip/src/share/demo/jvmti/hprof/manual.html" id="b1a3a6ab_9100"   data-external="true" rel="noopener noreferrer" >Java Profiler Heap Dump Format</a></p></li><li class="list__item" id="b1a3a6ab_9101" ><p><a href="https://github.com/openjdk/jdk/blob/master/test/lib/jdk/test/lib/hprof/HprofParser.java" id="b1a3a6ab_9102"   data-external="true" rel="noopener noreferrer" >HPROF Parser</a></p></li><li class="list__item" id="b1a3a6ab_9103" ><p><a href="https://www.baeldung.com/java-heap-dump-capture" id="b1a3a6ab_9104"   data-external="true" rel="noopener noreferrer" >Capture Java Heap Dumps</a></p></li></ul></section><section class="chapter"  ><h2 id="8-threaddump" data-toc="8-threaddump"  >8. ThreadDump</h2><div class="code-block" data-lang="bash"         >
# Get all java processes
$ jcmd -l
$ jps -mlvV

# See the available commands for all java processes
$ jcmd 0 help
# Use PID or main class
$ jcmd dev.suresh.Main VM.version
$ jcmd &lt;dev.suresh.Main | pid&gt; Thread.print

# Virtual thread dump
$ jcmd dev.suresh.Main Thread.dump_to_file -format=json openjdk-playground-threads.json

# OR
$ kill -3 &lt;pid&gt;
$ kill -3 &quot;$(jcmd -l | grep &quot;dev.suresh.Main&quot; | cut -d &quot; &quot; -f1)&quot;
# OR
# Prints additional info about thread (-e  extended listing) and locks (-l  long listing)
$ jstack -l -e  &lt;pid&gt;

# Show Native Memory
$ jcmd GradleDaemon VM.native_memory
</div></section><section class="chapter"  ><h2 id="9-unified-gc-logging" data-toc="9-unified-gc-logging"  >9. Unified GC Logging</h2><div class="code-block" data-lang="bash"         >
$  java -Xlog:help
</div><div class="code-block" data-lang="bash"         >
# For G1GC
-XX:+UseG1GC
-XX:MaxGCPauseMillis=200
-XX:InitiatingHeapOccupancyPercent=70
-XX:+PrintGC
-XX:+PrintGCDateStamps
-XX:+PrintGCDetails
-Xloggc:/log/gclogs/app-gc.log
-XX:+UseGCLogFileRotation
-XX:NumberOfGCLogFiles=15
-XX:GCLogFileSize=10M
</div></section><section class="chapter"  ><h2 id="10-jvm-tools" data-toc="10-jvm-tools"  >10. JVM Tools</h2><ul class="list _ul" id="b1a3a6ab_9108"    ><li class="list__item" id="b1a3a6ab_9109" ><p id="b1a3a6ab_9110" >Java Object Layout (JOL)</p><div class="code-block" data-lang="bash"         >
$ wget -q https://builds.shipilev.net/jol/jol-cli-latest.jar
$ java -jar jol-cli-latest.jar internals java.lang.String
</div></li></ul></section><section class="chapter"  ><h2 id="11-system-node-health" data-toc="11-system-node-health"  >11. System/Node Health</h2><ul class="list _ul" id="b1a3a6ab_9112"    ><li class="list__item" id="b1a3a6ab_9113" ><p id="b1a3a6ab_9114" ><a href="https://github.com/sysstat/sysstat" id="b1a3a6ab_9115"   data-external="true" rel="noopener noreferrer" >SAR</a> (System Activity Report)</p><div class="code-block" data-lang="bash"         >
$ yum install sysstat

$ sar -A

# Generate file for single day:
$ sar -A -f /var/log/sa/sa19 &gt; /tmp/sa19_$(hostname).txt

# Generate file for multiple days files:
$ ls /var/log/sa/sa?? | xargs -i sar -A -f {} &gt; /tmp/sar_$(uname -n).txt

</div><ul class="list _ul" id="b1a3a6ab_9117"    ><li class="list__item" id="b1a3a6ab_9118" ><p>https://github.com/vlsi/ksar</p></li><li class="list__item" id="b1a3a6ab_9119" ><p>https://github.com/sargraph/sargraph.github.io</p></li><li class="list__item" id="b1a3a6ab_9120" ><p>https://sarcharts.tuxfamily.org/</p></li><li class="list__item" id="b1a3a6ab_9121" ><p>https://www.cyberciti.biz/tips/top-linux-monitoring-tools.html</p></li></ul></li><li class="list__item" id="b1a3a6ab_9122" ><p id="b1a3a6ab_9123" ><a href="https://prometheus.io/docs/guides/node-exporter/" id="b1a3a6ab_9124"   data-external="true" rel="noopener noreferrer" >Node Exporter</a></p><ul class="list _ul" id="b1a3a6ab_9125"    ><li class="list__item" id="b1a3a6ab_9126" ><p>https://github.com/prometheus/node_exporter#docker</p></li></ul></li><li class="list__item" id="b1a3a6ab_9127" ><p id="b1a3a6ab_9128" ><a href="https://github.com/rh-jmc-team/prometheus-jfr-exporter" id="b1a3a6ab_9129"   data-external="true" rel="noopener noreferrer" >Prometheus JFR Exporter</a></p></li></ul></section><section class="chapter"  ><h2 id="12-commands" data-toc="12-commands"  >12. Commands</h2><ul class="list _ul" id="b1a3a6ab_9130"    ><li class="list__item" id="b1a3a6ab_9131" ><p id="b1a3a6ab_9132" >Grabbing a file from a remote system with ssh</p><div class="code-block" data-lang="bash"         >
# grabbing a file from a remote system with ssh but no scp binary

$ ssh user@remote-system &quot;cat &lt;file.txt&quot; &gt; file.txt
$ ssh user@remote-system  'tar -S cz somedirectory' | tar -S xvz

# Using Rsync: Upload
$ rsync -Pavze ssh path/to/src remote-system:path/to/dst
# Download
$ rsync -Pavze ssh remote-system:path/to/src path/to/dst
</div></li><li class="list__item" id="b1a3a6ab_9134" ><p id="b1a3a6ab_9135" >Strace</p><div class="code-block" data-lang="bash"         >
# Syscall trace
$ strace -tttTf -p &lt;pid&gt;
</div></li><li class="list__item" id="b1a3a6ab_9137" ><p id="b1a3a6ab_9138" >Netstat</p><div class="code-block" data-lang="bash"         >
$ netstat -tunalp

# Socket stats
$ ss -s
</div></li></ul></section><section class="chapter"  ><h2 id="13-resources" data-toc="13-resources"  >13. Resources</h2><ul class="list _ul" id="b1a3a6ab_9140"    ><li class="list__item" id="b1a3a6ab_9141" ><p><a href="https://docs.oracle.com/en/java/java-components/jdk-mission-control/" id="b1a3a6ab_9142"   data-external="true" rel="noopener noreferrer" >JDK Mission Control Docs</a></p></li><li class="list__item" id="b1a3a6ab_9143" ><p><a href="http://hirt.se/blog/?p=1312" id="b1a3a6ab_9144"   data-external="true" rel="noopener noreferrer" >Marcus Hirt's Blog</a></p></li></ul></section><div class="last-modified"> Last modified: 17 April 2023</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="containers.html">Containers &amp; K8S</a>   <a class="navigation-links__next" href="linux.html">Linux</a>  </div></article><div id="disqus_thread"></div></div></section></main></div>  <script src="https://resources.jetbrains.com/storage/writerside/v5/app.js"></script></body></html>